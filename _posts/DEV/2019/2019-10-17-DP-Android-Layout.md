---
layout: post
title: '안드로이드 DP 용어 바로알기'
categories: DEV
date: 2019-10-01
lastmod : 2019-10-17 05:00:00
sitemap :
changefreq : daily
priority : 1.0
---

<br>

*<span style="font-size:11pt;color:red">네이버에서 작성해두었던 글을 재연재합니다.</span>*

<br>

### 들어가며

<br>

모바일 앱을 디자인 또는 개발하는 분이라면,  화면의 레이아웃을 작성할 때, **픽셀(Pixel)**을 단위로 사용해 보셨을 겁니다. **픽셀**이라는 용어는 많이 들어보셨을 겁니다. 사진도 픽셀로 이루어져있고, 우리가 사용하는 핸드폰 화면도 결국 수많은 RGB픽셀들의 조합이니까요. 

전통적인 UX 레이아웃 구성에서는 이러한 **픽셀**을 기본 단위로 사용했습니다. 예로, 버튼의 크기를 가로 100 픽셀, 세로 100픽셀이라고 정하는 거죠. 그런데, 디스플레이 기술이 발전하면서 같은 화면 크기에서 더욱 고해상도를 지원할 수 있게 됩니다. 즉, 물리적인 픽셀 크기가 점점 작아졌기 때문에 가능한 것이죠. 이는, 화면에서 동일 면적에 대한 **픽셀 밀도(PPI(Pixel per Inch))**가 높아진 것을 의미하죠. 

 모바일 장치에서 최신 모델일수록 고해상도를 지원하게 되고, 이는 화면에 더 많은 픽셀들을 배열할 수 있도록 지원하게 됩니다. 그래서 픽셀이라는 단위로 앱을 디자인하게 되면, 서로 다른 **PPI**를 가지는 기기에서 버튼과 같은 컴포넌트들의 크기도 시각적으로 다른 크기로 그려지게 됩니다. 이러한 문제때문에 안드로이드에서는 서로 다른 모바일 장치라도 실제로는 동일 크기로 그려질 수 있도록, 별도의 추상적인 레이아웃용 단위를 정의하였고 그게 바로 **DP(Densitpy Independent Pixel)**입니다. 

<br>

### 본문

<br>

DP를 이해하려면 다음 용어를 알고 있어야합니다.



\- DPI(Dot Per Inch) - 인쇄물 가로 또는 세로 1Inch에 찍힌 점의 수. 

\- PPI(Pixel Per Inch) - DPI와 동일하며, 점이 아닌 화면의 픽셀로 생각하면 됩니다. 



안드로이드에서 해상도의 분류는 다음과 같습니다.



ldpi : ~ 120 dpi

mdpi : ~ 160 dpi

hdpi: 240 dpi

xhdpi: 320 dpi (Galaxy 3)

xxhdpi: 480 dpi

xxxhdpi: 640 dpi (Galaxy 8)



이제 **DP**가 무엇인지 알아볼까요?

**DP**는 '픽셀 밀도에 독립적인 레이아웃 단위'정도로 해석할 수 있습니다. 여기서 픽셀 밀도는 **PPI**를 의미합니다. TV화면은 매우 가까이 보면 픽셀이 눈으로 보입니다. 하지만 핸드폰은 아무리 눈을 가까이 해도 보이지 않습니다. 그만큼 같은 픽셀이라도 기기에 따라 실제 크기가 차이가 나죠. 즉 **PPI**가 달라집니다. 때문에 서로 다른 **PPI**를 가지는 기기에서 픽셀값만을 가지고 앱을 디자인하면 서로 다른 크기로 그려집니다. <u>이 때문에 안드로이드에서는 기기의 **PPI**와 관계없이 시각적으로 동일 크기로 그려질 수 있는 레이아웃 단위가 필요했고, 이러한 필요에 의해 정의한 것이 **DP**입니다.</u>

* 픽셀의 한계

  어떤 UX 디자이너가 Galaxy S8에서 동작하는 앱을 디자인 한다고 가정해 봅시다. 디자이너는 앱 상단에 위치할 버튼의 가로 크기를 15 픽셀로 정했습니다. 이제 이렇게 픽셀 기준으로 작성한 앱을 갤럭시 S3에 탑재합니다. 과연 어떤 일이 벌어질까요?

  

  참고로 Galaxy S3의 PPI는 320, 즉 가로 1인치에 320개의 픽셀이 들어갑니다. Galaxy S8(640개)의 절반 수준이죠. 아래는 이해를 돕기위한 그림입니다.

  <center><img src="/assets/img/dp1.png"></center>

   결론적으로, 픽셀값으로 버튼의 크기를 정하면 기기의 PPI에 따라 화면에 표시되는 크기도 달라집니다. 이러한 문제를 막기위해서 **DP**가 나오게 된 것이며, **DP** 는 다른 PPI를 가지는 다양한 기기에서도 일관된 레이아웃 사이즈를 제공합니다.  

  

* DP와 픽셀의 관계

  

  그렇다면 실제 그려지는 과정은 어떨까요?

  대부분의 UI 툴킷은 픽셀값을 기준으로 실제 렌더링을 합니다. 즉 앱 개발자가 DP 단위로 레이아웃 사이즈를 설정하더라도, UI 툴킷 내부적으로는 이를 픽셀로 변환해서 그리는 것이죠. 픽셀로 변환하는 과정에서는 **DP와 PX(Pixel)간의 관계**를 알아야합니다. 참고로, 안드로이드는 160 DPI를 기준으로 정하고, 이때 PX와 DP를 동일 값으로 설정하였습니다.

  

  DP = PX*160 / (DPI)

  PX = (DPI / 160 ) * DP

  

  그럼 실제로 적용해볼까요? 갤럭시 S8 모델에서 15픽셀 가로 크기를 가지는 버튼에 대한 DP 값을 구하겠습니다.

  

  DP = 15 × 160 / 640 = 3.75

  

  이제 위에서 구한 DP값을 이용해서, 갤럭시 S3에서 실제 내부적으로 그려지게 될 버튼의 가로 픽셀 크기를 구해보겠습니다.

  PX = 320 / 160 x 3.75 = 7.5 =~ 8

  8픽셀로 떨어지네요. 

  

  갤럭시 S8의 PPI가 S3 모델에 비해 픽셀 밀도가 2배 높기에 실제 그려지는 픽셀 규모도 절반 정도가 됩니다. 사실, 앱 개발자는 DP를 주면 되기때문에 이러한 계산식을 신경쓸 필요는 없습니다.

<br>

### 마무리

<br>

 오늘은 DP가 무엇인지. 왜 필요한지에 대해서 알아보았습니다. 다음 기회에는 폰트 레이아웃과 관련된 단위인 SP(Scale Independent Pixel)에 대해서도 알아보는 시간을 가지겠습니다. 감사합니다. 

<br>

## 참고문헌

[1]:https://excelsior-cjh.tistory.com/79	"EXCELSIOR 블로그"

